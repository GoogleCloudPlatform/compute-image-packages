language: python
sudo: true
python:
- 2.7
- 3.4
- 3.5
- 3.6
- pypy
matrix:
  include:
  - python: 3.7
    dist: xenial
os:
- linux
install:
- pip install "virtualenv<14.0.0"
- pip install tox tox-travis codecov
- pip install "setuptools>20.0.0"
script:
- tox
after_success:
- codecov
deploy:
  provider: pypi
  user: gc-team
  on:
    branch: master
    python: 3.6
    distributions: sdist bdist_wheel
    repo: GoogleCloudPlatform/compute-image-packages
    tags: true
  password:
    secure: E7Q4/r2g5oU/JKR4DFWXCsep0xuO+wcLCKgvN5JiKo1wGxuIj3PQG6ALGMBGGx6NWIGGyLE6t/RwzXexGV+9/RnVYbA5qm0S4FcQDwcOOuQaDkC5J+RIjxB+DBOt016/nIsjPcljX152TZYZv7vSUNJ1WACIX3zZntpvPYsQ79R1YrH12ILk02At5zGCEUBGXE+s0D4rKF+BU5eM6lYO+s/Ru+KrJfeumuGrwPakjnkL4UAQRWrv/y8frjsiTLMoFubYfbIyCh6nOcRzDtA75pexrPu5EuagAlVAA7OUCDpUmBe2Z04dKNZ9HwZ5ZPrgCLrgtIrQeeloJPQ5toEHvwEsRqvlFt5GIK89fONPc1HDrrMVwQNcoyhBi9hJy9KQvgLsS2uo+hcX9/mUj2BvcvknH6PWc7aPlYMB4UhqY1WJdXemRaGkyEWnizRN5aPag+IgQYzYhSyIrLVxndNjZD9TtQSjcvmC++JQIOXGSACwnSnq7Ufo5EaKxer9HpPPHwcmEMO9+0uMwoormvMEZzDHxIi9Ph4PGnzqFd4FbApOCNswTmSF9JB4ZWtNdhIUzC3CyOR4nj56RJAAbArT2PByuRdUC/VbHsQvQo/Ladxdlm1VUXOUJwvRXR8N2vbwzlYxChonOjh8wGRmGIcE271+U8HMDS23HHpIBfAplEA=
